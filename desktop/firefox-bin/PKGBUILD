pkgname=firefox-bin
pkgver=12.0
pkgrel=5
pkgdesc="Standalone web browser from Mozilla (official binary)"
arch=('x86_64')
license=('MPL' 'GPL' 'LGPL')
depends=('dbus-glib' 'alsa-lib' 'libxrender' 'libxt' 'libxmu' 'gtk2')
options=('!binchecks')
url="http://www.mozilla.org/projects/firefox"
source=("ftp://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-x86_64/firefox-${pkgver}.tar.bz2")
sha256sums=('443e6c56256432f816da941cbd372d5037a7872cd8b427c026cb8fcb981710b9')
noextract=("firefox-${pkgver}.tar.bz2")

package() {
  pushd "${srcdir}"
    install -d -m0755 "${pkgdir}"/opt
    install -D -m0755 firefox-bin "${pkgdir}"/usr/bin/firefox-bin
    tar -xf firefox-${pkgver}.tar.bz2 -C "${pkgdir}"/opt
    install -D -m0644 vendor.js "${pkgdir}"/opt/firefox/defaults/pref/firefox-bin-prefs.js
    install -D -m0644 libstdc++.so.6 "${pkgdir}"/opt/firefox/libstdc++.so.6
    install -D -m0644 libgcc_s.so.1 "${pkgdir}"/opt/firefox/libgcc_s.so.1
  popd
}

source=(${source[@]-}
        firefox-bin
        libgcc_s.so.1
        libstdc++.so.6
        vendor.js)

sha256sums=(${sha256sums[@]-}
            '79153bfe53b7006296d64426541f27e88240c3bf148fd7d14a5f7133e80718c9'
            '83e0eea0ef2a9ffe9ee8fb2e8c91aef433114b3b0fa84801f82eaa48b3396daf'
            '467d2b76be8e9fa88f9bbc31f827ee5e32533c59395b67630128df90fb1acdc0'
            '3c7a38c5a7f22ba672f417ce22caf38f0fd478a81e3d534b51a76a879d227f53')
