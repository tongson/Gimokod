Index: ui/base/l10n/l10n_util.cc
diff --git a/ui/base/l10n/l10n_util.cc b/ui/base/l10n/l10n_util.cc
index 28dbc4301b92534a0506d973bb8a511bde5bfda8..5dfff082a9591fddda84b45a66a20fb1a037db7f 100644
--- a/ui/base/l10n/l10n_util.cc
+++ b/ui/base/l10n/l10n_util.cc
@@ -4,10 +4,6 @@
 
 #include "ui/base/l10n/l10n_util.h"
 
-#if defined(USE_X11)
-#include <glib/gutils.h>
-#endif
-
 #include <algorithm>
 #include <cstdlib>
 #include <iterator>
@@ -30,6 +26,10 @@
 #include "unicode/rbbi.h"
 #include "unicode/uloc.h"
 
+#if defined(TOOLKIT_GTK)
+#include <glib.h>
+#endif
+
 #if defined(OS_WIN)
 #include "ui/base/l10n/l10n_util_win.h"
 #endif  // OS_WIN
@@ -410,7 +410,7 @@ std::string GetApplicationLocale(const std::string& pref_locale) {
   if (!pref_locale.empty())
     candidates.push_back(pref_locale);
 
-#elif !defined(OS_MACOSX)
+#elif defined(TOOLKIT_GTK)
 
   // GLib implements correct environment variable parsing with
   // the precedence order: LANGUAGE, LC_ALL, LC_MESSAGES and LANG.
