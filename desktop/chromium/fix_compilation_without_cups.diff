--- chrome/browser/printing/print_dialog_gtk.cc.orig
+++ chrome/browser/printing/print_dialog_gtk.cc
@@ -190,6 +190,7 @@
     gtk_print_settings_set_n_copies(gtk_settings_, copies);
     gtk_print_settings_set_collate(gtk_settings_, collate);
 
+#if defined(USE_CUPS)
     std::string color_value;
     std::string color_setting_name;
     printing::GetColorModelForMode(color, &color_setting_name, &color_value);
@@ -214,6 +215,7 @@
       }
       gtk_print_settings_set(gtk_settings_, kCUPSDuplex, cups_duplex_mode);
     }
+#endif
   }
   if (!page_setup_)
     page_setup_ = gtk_page_setup_new();
